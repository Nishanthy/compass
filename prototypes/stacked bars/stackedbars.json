{
	"name": "stacked bars",
	"width": 500,
	"height": 200,
	"padding": {"top": 10, "left": 30, "right": 30, "bottom": 30},
	"data": [
	{
		"name": "table",
		"values": [
		{"x": 1, "y": 1, "color": "green"},
		{"x": 2, "y": 2, "color": "green"},
		{"x": 3, "y": 3, "color": "green"},
		{"x": 4, "y": 4, "color": "green"},
		{"x": 5, "y": 5, "color": "green"},
		{"x": 6, "y": 6, "color": "green"},
		{"x": 7, "y": 7, "color": "green"},
		{"x": 1, "y": 7, "color": "yellow"},
		{"x": 2, "y": 6, "color": "yellow"},
		{"x": 3, "y": 5, "color": "yellow"},
		{"x": 4, "y": 4, "color": "yellow"},
		{"x": 5, "y": 3, "color": "yellow"},
		{"x": 6, "y": 2, "color": "yellow"},
		{"x": 7, "y": 1, "color": "yellow"}
		]
	},
	{
		"name": "stats",
		"source": "table",
		"transform": [
		{"type": "facet", "keys": ["data.x"]},
		{"type": "stats", "value": "data.y"}
		]
	}
	],
	"scales": [
	{
		"name": "x",
		"type": "linear",
		"range": "width", 
		"domain": {"data": "table", "field": "data.x"}
	},
	{
		"name": "y",
		"type": "linear",
		"range": "height",
		"domain": {"data": "stats", "field": "sum"}
	}
	],
	"axes": [
	{"type": "x", "scale": "x"},
	{"type": "y", "scale": "y"}
	]
}